(window.webpackJsonp=window.webpackJsonp||[]).push([[45,37],{616:function(e,t,r){"use strict";r.r(t);r(24),r(16),r(2),r(1);var n=r(25),o=r(21),l=(r(53),{data:function(){return{data:{name:null,phone:null,email:null,message:null,quote_purpose_id:"",product_id:""},loading:!1,purposes:[],products:[]}},created:function(){this.getPurpose(),this.getProduct()},mounted:function(){this.$route.query.product&&this.getProductDetail()},methods:{submit:function(){var e=this;this.$refs.requestQuoteForm.validate().then((function(t){t&&e.syncQuote()}))},getProductDetail:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$repositories.product.show(e.$route.query.product);case 2:(r=t.sent).success&&(e.data.product_id=r.data.id);case 4:case"end":return t.stop()}}),t)})))()},getPurpose:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$repositories.purpose.index();case 2:r=t.sent,e.purposes=Object(n.a)(r.data);case 4:case"end":return t.stop()}}),t)})))()},getProduct:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$repositories.product.options();case 2:r=t.sent,e.products=Object(n.a)(r.data);case 4:case"end":return t.stop()}}),t)})))()},syncQuote:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.loading){t.next=2;break}return t.abrupt("return");case 2:return e.$nuxt.$loading.start(),e.loading=!0,t.next=6,e.$repositories.quote.submit(e.data);case 6:t.sent,e.data={name:null,phone:null,email:null,message:null,quote_purpose_id:"",product_id:""},e.$refs.requestQuoteForm.reset(),e.loading=!1,e.$nuxt.$loading.finish();case 11:case"end":return t.stop()}}),t)})))()}}}),d=r(26),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"body"},[t("div",{staticClass:"page-content bg-request"},[t("div",{staticClass:"container"},[t("h2",{staticClass:"title"},[e._v(e._s(e.$t("general.requestQuote")))]),e._v(" "),t("validation-observer",{ref:"requestQuoteForm"},[t("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6"},[t("ValidationProvider",{attrs:{rules:"required",vid:"name",name:e.$t("general.name")},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:e.$t("general.name")},domProps:{value:e.data.name},on:{input:function(t){t.target.composing||e.$set(e.data,"name",t.target.value)}}}),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(n[0]))])])]}}])})],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("ValidationProvider",{attrs:{rules:"required|email",vid:"email",name:e.$t("general.email")},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.email,expression:"data.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:e.$t("general.email"),name:"email"},domProps:{value:e.data.email},on:{input:function(t){t.target.composing||e.$set(e.data,"email",t.target.value)}}}),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(n[0]))])])]}}])})],1)]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6"},[t("ValidationProvider",{attrs:{rules:"required",vid:"phone",name:e.$t("general.phone")},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.phone,expression:"data.phone"}],staticClass:"form-control",attrs:{type:"text",name:"phone",placeholder:e.$t("general.phone")},domProps:{value:e.data.phone},on:{input:function(t){t.target.composing||e.$set(e.data,"phone",t.target.value)}}}),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(n[0]))])])]}}])})],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("ValidationProvider",{attrs:{rules:"required",vid:"product_id",name:e.$t("general.product")},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",{staticClass:"form-group"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.data.product_id,expression:"data.product_id"}],staticClass:"form-select",attrs:{name:"product_id"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.data,"product_id",t.target.multiple?r:r[0])}}},[t("option",{attrs:{value:"",checked:""}},[e._v("\n                      "+e._s(e.$t("general.product"))+"\n                    ")]),e._v(" "),e._l(e.products,(function(r,i){return t("option",{key:"product-".concat(i),domProps:{value:r.id}},[e._v("\n                      "+e._s(r.name)+"\n                    ")])}))],2),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(n[0]))])])]}}])})],1)]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12"},[t("ValidationProvider",{attrs:{rules:"required",vid:"purpose_id",name:e.$t("general.purpose")},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",{staticClass:"form-group"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.data.quote_purpose_id,expression:"data.quote_purpose_id"}],staticClass:"form-select",attrs:{name:"purpose_id"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.data,"quote_purpose_id",t.target.multiple?r:r[0])}}},[t("option",{attrs:{value:"",checked:""}},[e._v("\n                      "+e._s(e.$t("general.purpose"))+"\n                    ")]),e._v(" "),e._l(e.purposes,(function(r,i){return t("option",{key:"purpose-".concat(i),domProps:{value:r.id}},[e._v("\n                      "+e._s(r.name)+"\n                    ")])}))],2),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(n[0]))])])]}}])})],1)]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12"},[t("ValidationProvider",{attrs:{rules:"required",vid:"message",name:e.$t("general.message")},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",{staticClass:"form-group"},[t("b-form-textarea",{staticClass:"form-control",attrs:{id:"message",rows:"7","max-rows":"12",placeholder:e.$t("general.message")},model:{value:e.data.message,callback:function(t){e.$set(e.data,"message",t)},expression:"data.message"}}),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(n[0]))])],1)]}}])})],1)]),e._v(" "),t("b-button",{staticClass:"text-uppercase",attrs:{type:"submit",variant:"default",disabled:e.loading}},[e.loading?t("b-spinner",{staticClass:"mr-2",attrs:{small:"",variant:"light",label:"Spinning"}}):e._e(),e._v("\n            "+e._s(e.$t("general.sendMessage"))+"\n          ")],1)],1)])],1)])])}),[],!1,null,null,null);t.default=component.exports},630:function(e,t,r){"use strict";r.r(t);var n=r(616).default,o=r(26),component=Object(o.a)(n,undefined,undefined,!1,null,null,null);t.default=component.exports}}]);